<!DOCTYPE html>
<html>

<head>
	<title>asyncだよ</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@700&family=Dela+Gothic+One&family=DotGothic16&family=Mochiy+Pop+One&family=Mochiy+Pop+P+One&family=Noto+Sans+JP:wght@800&family=Zen+Maru+Gothic:wght@300;700&display=swap"
		rel="stylesheet">
	<style>
		.large-centered-text {
			font-size: 58px;
			display: flex;
			align-items: center;
			justify-content: center;
			height: 100%;
		}
	</style>
</head>

<body>
	<div class="row">
		<div class="col-12" style="min-height:100px;">
			<h1>非同期通信サンプル</h1>
		</div>
	</div>
	<div class="row" style="height: 60vh">
		<div class="col-6">
			<h2>なんか打って</h2>
			<input type="text" id="example1" oninput="first()" style="height: 75px;" class="form-control" />
		</div>
		<div class="col-6">
			<h2>通信結果！</h2>
			<p id="result"></p>
		</div>
	</div>
	<script type="text/javascript">
		///////////ここから/////////////
		async function first() {
			//入力欄の内容
			var inputData = document.getElementById("example1").value;
			try {
				//通信を行い、変数「reponse」にその結果を格納
				const response = await fetch('http://localhost:8080/receive/' + inputData);

				//通信結果を文字列として扱うための変換
				const text = await response.text();

				//通信結果の欄に表示する。
				document.getElementById("result").innerHTML  = text;
			} catch (error) {
				console.error('Error:', error);
			}
		}
		///////////ここまでがひとかたまり/////////////
		
		
		///////////////////演習問題/////////////////
		async function enshu() {
			try {
				//通信を行い、変数「reponse」にその結果を格納
				const response = await fetch('http://localhost:8080/????/');

				//通信結果を文字列として扱うための変換
				const text = await response.text();

				//通信結果の欄に表示する。
				document.getElementById("result").innerHTML  = text;
			} catch (error) {
				console.error('Error:', error);
			}
		}
		///////////////////////////////////////////////
		
		
		///////////////////応用問題/////////////////
		async function ouyou() {
			try {
				//通信を行い、変数「reponse」にその結果を格納
				const response = await fetch('http://localhost:8080/????/');

				//通信結果を文字列として扱うための変換
				const text = await response.text();

				//通信結果の欄に表示する。
				document.getElementById("result").innerHTML  = text;
			} catch (error) {
				console.error('Error:', error);
			}
		}
		////////////////////////////////////////////
	</script>
</body>

</html>